import"../chunks/DsnmJJEf.js";import{p as Q,f as d,b as c,c as S,s as p,d as s,W as be,r as t,t as g,e as k,G as e,H as w,a as ae,D as ke,M as te,K as we,$ as xe}from"../chunks/dT7HNPe2.js";import{h as je}from"../chunks/Dd2RpjoD.js";import{P as ye,a as qe}from"../chunks/5KBllf_5.js";import{p as Pe,i as x}from"../chunks/Bo55m_Bq.js";import{f as R,g as re,s as u,p as De}from"../chunks/BDx_ct8N.js";import{p as ze}from"../chunks/DPWvQmMt.js";import{r as He}from"../chunks/p6zUSefm.js";import{f as se}from"../chunks/jI0u6eM5.js";import{a as Me}from"../chunks/BYg3rfAL.js";import{r as Te}from"../chunks/DJPa2_bI.js";var Ce=d('<th class="svelte-1mb1oew"> </th>'),Fe=d("<a> </a>"),Ge=d("<a><img/> </a>"),Ie=d("<a><!></a>"),Ke=d("<a> </a>  <!>",1),Re=d("<a> </a>"),We=d('<div class="row"><a><code> </code></a></div>'),Ae=d("<a> </a>"),Be=d('<td class="svelte-1mb1oew"><div> </div></td>'),Ee=d('<a class="chip"> </a>'),Je=d('<div class="row"><!></div>'),Le=d('<tr class="svelte-1mb1oew"><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><div class="row"><!></div></td><td class="svelte-1mb1oew"><!></td><td class="svelte-1mb1oew"><!></td><!><td class="svelte-1mb1oew"><!></td></tr>'),Ne=d('<table><thead><tr class="svelte-1mb1oew"><th class="svelte-1mb1oew">tree</th><th class="svelte-1mb1oew">homepage</th><th class="svelte-1mb1oew">repo</th><th class="svelte-1mb1oew">npm</th><th class="svelte-1mb1oew">version</th><!><th class="svelte-1mb1oew">pull requests</th></tr></thead><tbody></tbody></table>');function Oe(C,m){Q(m,!0);const b=Pe(m,"deps",19,()=>["@fuzdev/fuz_ui","@ryanatkn/gro"]),y=(_,o)=>{for(const v in _.package_json.dependencies)if(v===o)return _.package_json.dependencies[v];for(const v in _.package_json.devDependencies)if(v===o)return _.package_json.devDependencies[v]},W=w(()=>new Map(b().map(_=>{const o=m.repos.find(v=>v.package_json.name===_);return o?.package_json?[_,o.package_json.version]:[_,null]}))),z=_=>_==null?"":_.replace(/^(\^|>=)\s*/,""),I=(_,o)=>{const v=_?.find(G=>G.repo_url===o.repo_url);if(!v?.package_json)return null;const{pull_requests:q}=v;return q};var F=Ne(),H=s(F),K=s(H),U=p(s(K),5);R(U,16,b,_=>_,(_,o)=>{var v=Ce(),q=s(v,!0);t(v),g(()=>k(q,o)),c(_,v)}),be(),t(K),t(H);var V=p(H);R(V,21,()=>m.repos,_=>_.name,(_,o)=>{const v=w(()=>{const{package_json:r,homepage_url:a}=e(o);return{package_json:r,homepage_url:a}});var q=Le(),G=s(q),X=s(G),oe=s(X);{var ve=r=>{var a=Fe(),n=s(a,!0);t(a),g(l=>{u(a,"href",l),k(n,e(v).package_json.glyph??"ðŸŒ³")},[()=>He(`/tree/${e(o).repo_name}`)]),c(r,a)};x(oe,r=>{e(v).package_json&&r(ve)})}t(X),t(G);var A=p(G),Y=s(A),ne=s(Y);{var _e=r=>{var a=Ge();let n;var l=s(a);De(l,"",{},{width:"16px",height:"16px","margin-right":"var(--space_xs)"});var f=p(l);t(a),g(i=>{u(a,"href",e(v).homepage_url),n=re(a,1,"row",null,n,{selected:e(v).homepage_url===ze.url.href}),u(l,"src",e(o).logo_url),u(l,"alt",e(o).logo_alt),k(f,` ${i??""}`)},[()=>se(e(v).homepage_url)]),c(r,a)};x(ne,r=>{e(v).homepage_url&&r(_e)})}t(Y),t(A);var B=p(A),Z=s(B),le=s(Z);{var ce=r=>{const a=w(()=>e(o).check_runs),n=w(()=>e(a)?.status==="completed"),l=w(()=>e(a)?.conclusion==="success");var f=Ke(),i=ae(f),j=s(i,!0);t(i);var M=p(i,2);{var P=D=>{var h=Ie(),L=s(h);{var N=T=>{var O=te("ðŸŸ¡");c(T,O)},ge=T=>{var O=te("âš ï¸");c(T,O)};x(L,T=>{e(n)?T(ge,!1):T(N)})}t(h),g(()=>{u(h,"href",`${e(o).repo_url??""}/commits/main`),u(h,"title",e(n)?`CI failed: ${e(a).conclusion}`:`status: ${e(a).status}`)}),c(D,h)};x(M,D=>{e(a)&&(!e(n)||!e(l))&&D(P)})}g(()=>{u(i,"href",e(o).repo_url),k(j,e(o).repo_name)}),c(r,f)},ie=r=>{var a=Re(),n=s(a,!0);t(a),g(l=>{u(a,"href",e(o).repo_url),k(n,l)},[()=>se(e(o).repo_url)]),c(r,a)};x(le,r=>{e(v).package_json?r(ce):r(ie,!1)})}t(Z),t(B);var E=p(B),de=s(E);{var me=r=>{var a=We(),n=s(a),l=s(n),f=s(l,!0);t(l),t(n),t(a),g(()=>{u(n,"href",e(o).npm_url),k(f,e(o).name)}),c(r,a)};x(de,r=>{e(o).npm_url&&r(me)})}t(E);var J=p(E),ue=s(J);{var pe=r=>{var a=Ae(),n=s(a,!0);t(a),g(l=>{u(a,"href",e(o).changelog_url),k(n,l)},[()=>z(e(v).package_json.version)]),c(r,a)};x(ue,r=>{e(v).package_json.version!=="0.0.1"&&r(pe)})}t(J);var $=p(J);R($,16,b,r=>r,(r,a)=>{const n=w(()=>y(e(o),a)),l=w(()=>z(e(n))),f=w(()=>e(W).get(a));var i=Be(),j=s(i);let M;var P=s(j,!0);t(j),t(i),g(()=>{M=re(j,1,"svelte-1mb1oew",null,M,{latest:!!e(f)&&e(l)===e(f)}),k(P,e(l))}),c(r,i)});var ee=p($),fe=s(ee);{var he=r=>{const a=w(()=>I(m.repos,e(o)));var n=Je(),l=s(n);{var f=i=>{var j=ke(),M=ae(j);R(M,16,()=>e(a),P=>P,(P,D)=>{var h=Ee(),L=s(h);t(h),g(N=>{u(h,"href",N),u(h,"title",D.title),k(L,`#${D.number??""}`)},[()=>Me(e(o).repo_url,D)]),c(P,h)}),c(i,j)};x(l,i=>{e(a)&&i(f)})}t(n),c(r,n)};x(fe,r=>{e(o).repo_url&&r(he)})}t(ee),t(q),c(_,q)}),t(V),t(F),c(C,F),S()}var Qe=d('<main class="box svelte-1fi511y"><div class="p_lg"><!></div> <section class="svelte-1fi511y"><div class="panel p_md"><!></div></section> <section class="box mb_xl7 svelte-1fi511y"><!></section></main>');function Se(C,m){Q(m,!0);var b=Qe();je("1fi511y",U=>{we(()=>{xe.title=`table ${m.repo.package_json.glyph??""} ${m.repo.package_json.name??""}`})});var y=s(b),W=s(y);ye(W,{get repo(){return m.repo}}),t(y);var z=p(y,2),I=s(z),F=s(I);Oe(F,{get repos(){return m.repos}}),t(I),t(z);var H=p(z,2),K=s(H);qe(K,{}),t(H),t(b),c(C,b),S()}function oa(C,m){Q(m,!0);const{repo:b,repos:y}=Te.get();Se(C,{get repo(){return b},get repos(){return y}}),S()}export{oa as component};
